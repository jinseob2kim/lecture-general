---
title: "빅데이터 활용 제약바이오연구 소개"
author: "김진섭"
date: "2025-07-11"
format:
  revealjs: 
    theme: zarathu_theme.scss
    title-slide-attributes:
      data-background-image: bg.png
      data-background-size: cover
      data-background-opacity: "0.3"
    logo: Zarathu Circle Clipping Mask2.png
    footer: "github.com/jinseob2kim"
    self-contained: false
    chalkboard: 
      buttons: false
    preview-links: true
    show-notes: false
    slide-number: false
    width: 1600
    height: 900
editor: visual
subtitle: "차라투(주)"
---

## 자기소개

회사: 차라투 주식회사(Zarathu Co.,Ltd)

-   R 활용 의학연구지원
-   R 패키지 개발 및 교육

경력

-   의학사, 성균관대학교 (\~2009)
-   예방의학전문의/박사수료,서울대보건대학원 (\~2013)
-   책임, 삼성전자 DMC연구소/무선사업부 (\~2016)
-   대표, 차라투 (2018\~)

**jinseob2kim\@gmail.com, github.com/jinseob2kim**

## R package for medical research

CRAN(총 20만회 다운로드)

-   [jskm](https://github.com/jinseob2kim/jskm): 생존분석 그림
-   [jstable](https://github.com/jinseob2kim/jskm): 분석결과를 보고서/논문용 테이블로
-   [jsmodule](https://github.com/jinseob2kim/jskm): Shiny module & 로컬에서 실행하는 분석웹

<center><a href="https://github.com/jinseob2kim/"><img src="Unknown-2.png" width="50%"/></a></center>

## 

<center><a href="https://github.com/jinseob2kim/jskm"><img src="jskm.png" width="100%"/></a></center>

::: columns
::: {.column width="50%"}
![](https://github.com/jinseob2kim/jskm/raw/master/man/figures/README-unnamed-chunk-1-2.png)
:::

::: {.column width="50%"}
![](https://github.com/jinseob2kim/jskm/raw/master/man/figures/README-unnamed-chunk-3-1.png)
:::
:::

## 일본 블로그 리뷰

::: columns
::: {.column width="50%"}
![](jskm_japan.png)
:::

::: {.column width="50%"}
![](jskm_japan2.png)
:::
:::

Landmark, Competing risk analysis support

## 

<center><a href="https://github.com/jinseob2kim/jstable"><img src="jstable.png" width="100%"/></a></center>

::: columns
::: {.column width="50%"}
``` r
## Gaussian
glm_gaussian <- glm(mpg~cyl + disp, data = mtcars)
glmshow.display(glm_gaussian, decimal = 2)
```

``` r
$first.line
[1] "Linear regression predicting mpg\n"

$table
     crude coeff.(95%CI)   crude P value adj. coeff.(95%CI)    adj. P value
cyl  "-2.88 (-3.51,-2.24)" "< 0.001"     "-1.59 (-2.98,-0.19)" "0.034"
disp "-0.04 (-0.05,-0.03)" "< 0.001"     "-0.02 (-0.04,0)"     "0.054"

$last.lines
[1] "No. of observations = 32\nR-squared = 0.7596\nAIC value = 167.1456\n\n"
```
:::

::: {.column width="50%"}
``` r
## Binomial
glm_binomial <- glm(vs~cyl + disp, data = mtcars, family = binomial)
glmshow.display(glm_binomial, decimal = 2)
```

``` r
$first.line
[1] "Logistic regression predicting vs\n"
 
$table
     crude OR.(95%CI)   crude P value adj. OR.(95%CI)    adj. P value
cyl  "0.2 (0.08,0.56)"  "0.002"       "0.15 (0.02,1.02)" "0.053"     
disp "0.98 (0.97,0.99)" "0.002"       "1 (0.98,1.03)"    "0.715"     

$last.lines
[1] "No. of observations = 32\nAIC value = 23.8304\n\n"
```
:::
:::

## Subgroup analysis

``` r
TableSubgroupMultiGLM(status ~ sex, var_subgroups = c("kk", "kk1"), data = lung, family = "binomial")
```

``` r
    Variable Count Percent           OR Lower Upper P value P for interaction
sex2  Overall   228     100         3.01  1.65  5.47  <0.001              <NA>
1          kk  <NA>    <NA>         <NA>  <NA>  <NA>    <NA>             0.476
2           0    38    16.9            7   0.7 70.03   0.098              <NA>
3           1   187    83.1         2.94  1.55  5.57   0.001              <NA>
4         kk1  <NA>    <NA>         <NA>  <NA>  <NA>    <NA>             0.984
5           0     8     3.6 314366015.19     0   Inf   0.997              <NA>
6           1   217    96.4         2.85  1.55  5.25   0.001              <NA>
```

``` r
TableSubgroupMultiCox(Surv(time, status) ~ sex, var_subgroups = c("kk", "kk1"), data = lung)
```

``` r
    Variable Count Percent Point Estimate Lower Upper sex=1 sex=2 P value P for interaction
sex  Overall   228     100           1.91  1.14   3.2   100   100   0.014              <NA>
1       <NA>  <NA>    <NA>           <NA>  <NA>  <NA>  <NA>  <NA>    <NA>              <NA>
2         kk  <NA>    <NA>           <NA>  <NA>  <NA>  <NA>  <NA>    <NA>             0.525
3          0    38    16.9           2.88  0.31 26.49    10   100    0.35              <NA>
4          1   187    83.1           1.84  1.08  3.14   100   100   0.026              <NA>
5       <NA>  <NA>    <NA>           <NA>  <NA>  <NA>  <NA>  <NA>    <NA>              <NA>
6        kk1  <NA>    <NA>           <NA>  <NA>  <NA>  <NA>  <NA>    <NA>             0.997
7          0     8     3.6           <NA>  <NA>  <NA>     0   100    <NA>              <NA>
8          1   217    96.4           1.88  1.12  3.17   100   100   0.018              <NA>
```

## 중국 영상/블로그 리뷰

::: columns
::: {.column width="50%"}
![](jstable_ch.png)
:::

::: {.column width="50%"}
![](jstable_ch2.png)
:::
:::

## 

<center><a href="https://github.com/jinseob2kim/jsmodule"><img src="jsmodule.png" width="100%"/></a></center>

::: columns
::: {.column width="50%"}
![](https://github.com/jinseob2kim/jsmodule/blob/master/vignettes/figures/ps.png?raw=true)
:::

::: {.column width="50%"}
1-2줄의 코드만으로 분석웹을 만들 수 있도록 각 분석기능을 모듈화

![](jsmodule2.png)
:::
:::

## 

![](jsmodule3.png)

## 논문지원 실적

SCI 논문 200편이상 지원

-   의학분야 탑저널 NEJM, LANCET, JAMA 포함
-   6개 대학병원과 연단위 연구지원 계약, 10개 바이오회사의 임상시험분석 지원

![](그림2.png)

## 무료 통계웹

-   흔한 분석기능들을 무료로 분석할 수 있는 openstat.ai 런칭
-   jskm/jstable/jsmodule 분석모듈 적용

::: columns
::: {.column width="50%"}
[**openstat.ai**](https://openstat.ai/)**: free**

![](example-meta.png)
:::

::: {.column width="50%"}
**맞춤형 분석웹은 유료제작**

![](https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F5a9631fa-d51e-4701-a2e8-c1087a0f2c3b%2FUntitled.png&blockId=05eff788-7894-4c2e-9cfe-b8056bc0bcd7)
:::
:::

## 오픈소스기여: 인턴십

::: columns
::: {.column width="50%"}
-   정기적 선발

![](intern.png)
:::

::: {.column width="50%"}
-   인턴의 오픈소스 패키지개발 참여

![](internr.png)
:::
:::

## 교육

성균관대학교 바이오헬스규제과학과 겸임교수 강의

-   https://github.com/jinseob2kim/r-skku-biohrs

-   R활용 의료데이터분석, 강의록과 강의영상 모두 공개

<center><a href="https://github.com/jinseob2kim/r-skku-biohrs"><img src="biohrs.png" width="60%"/></a></center>


## CDM

<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/cdmintro1.png" width=100%></a>
</center>

출처: 유승찬교수님 슬라이드.


## Why CDM(2)

<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/cdmintro2.png" width=100%></a>
</center>

## Why CDM(3)

<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/cdmintro3.png" width=100%></a>
</center>


## OMOP CDM

**OMOP (2008-2013)** www.omop.org

- OMOP = Observational Medical Outcomes Partnership
- Research on methods for drug safety evaluation
- Methods library developed; positive/negative drug outcome pairs
- Common Data Model (then, was a byproduct)
- Foundation for the NHI
- Transition to Reagan Udall Foundation for the FDA

**OHDSI** (after 2013) www.ohdsi.org
- OHDSI = Observational Health Data Science and Informatics
- Continues to use the name ‘OMOP CDM’
- Community of researchers; public; non-pharma funded


## OMOP CDM V6

<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/cdmv6.png" width=80%></a>
</center>

동일한 데이터 구조 뿐 아니라 OMOP 코드라는 공통 의료용어체계를 이용해 물리/논리적 공통모델을 사용함


## Standardized Vocabulary 예

<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/cdmstandart.png" width=100%></a>
</center>

## 국내 참여 병원

<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/cdmclinic.png" width=100%></a>
</center>


## R first

CDM 분석 모든과정은 [R패키지](https://github.com/OHDSI)로 구현됨.

<center>
<img src="https://www.ohdsi.org/wp-content/uploads/2020/06/methodsLibrary.png" width=70%></a>
</center>



## 분석코드, 결과도 R패키지

연구설계, 분석방법이 포함된 자체 R패키지가 코드공유 표준. 

- R패키지를 여러 기관에서 실행

https://github.com/zarathucorp/RanitidineCancerRisk

분석결과는 R Shiny로 

- 실행결과를 R기반 웹애플리케이션으로 표현

- 분석코드에 웹코드도 포함되어있음.


## [ATLAS](https://atlas-demo.ohdsi.org/)

웹기반 연구설계: R 몰라도 가능

<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/atlasdemo.png" width=100%></a>
</center>


## 데이터 소스

데이터 선택: 기본정보 제공


<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/datasource.png" width=100%></a>
</center>


## 컨셉세트

연구에 이용할 개념 정의
- 예: 고혈압, ACEI, PCI..

- 사망은 기본으로 있음


<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/concept.png" width=100%></a>
</center>


## 코호트 정의

컨셉세트 이용해 코호트 정의

- 최소 Target/Control/Outcome 코호트 3개 필요

- Negative control 도 필요(자체만들기 or 기본제공)

<center>
<img src="https://ohdsi.github.io/TheBookOfOhdsi/images/Cohorts/CohortPractice.png" width=70%></a>
</center>


## 분석

추정: Logistic/Cox

예측: xgboost, Lasso, 딥러닝


<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/estimation.png" width=70%></a>
</center>

## R패키지 다운

 컨셉, 코호트, 분석이 모두 포함된 R 패키지 다운로드


<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/rpkg.png" width=70%></a>
</center>

이후 (1)각 병원의 RStudio server 접속, (2)패키지 설치, (3)실행 하여 분석결과 zip 파일 얻음.  




## Feedernet 이용

가장 쉬운 방법
- R코드 안봐도됨.

- 다기관메타 쉽게 가능(분석할 병원 추가로 끝)

단점
- ATLAS 에서 지원하는 분석만 됨. 직접 수정한 R패키지 불가 

- 접근권한 얻은 병원만 분석 가능. 소속, 신분에 따라 다름

분석은 심플하되, 다기관 물량으로 승부하는 컨셉 

## 단계

**(1) Feedernet 에서 Atlas, 분석실행 둘다**
- Atlas에서 지원하는 분석, Feedernet 허가된 데이터만 분석가능
 
**(2) Feedernet/각병원 Atlas로 설계, 분석은 R서버 접속.**
- Atlas에서 지원하는 분석, 자체 CDM설치병원의 데이터 분석가능

**(3) 설계도 R로, 분석도 R서버 접속**
- 자유롭게 분석설계 가능, 자체 CDM 설치병원의 데이터 분석가능 


## Textbook

공식 교과서: 친절한 예제, [영어버전은 무료공개](https://ohdsi.github.io/TheBookOfOhdsi/)

[공식 유튜브](https://www.youtube.com/watch?v=dr9FhEkf04o&list=PLSKQ1ikU3kiHk7OTa234TEPgg2il21Jol)

<center>
<img src="https://forums.ohdsi.org/uploads/default/optimized/2X/8/82c9365f5f9c363a3734b79bb6877bb3697d2929_2_1035x681.png" width=70%></a>
</center>


## 연구지원경험: 심평원 Covid-19 데이터

- 한시적 오픈 with CDM버전,  패키지 만들어 심평원 보내면 실행결과만 보내줌.

<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/cdmcovid29.png" width=70%></a>
</center>

[RAAS vs Other HTN drug in Covid-19](http://147.47.68.165:1111/cdm/aceiarbv5/)

- https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0248058#pone-0248058-g001

[NSAIDs vs AAP in Covid-19](http://147.47.68.165:1111/cdm/nsaidaapv5/)

- https://www.nature.com/articles/s41598-021-84539-5


## 강동성심병원

- 첫 CDM 연구, ATLAS로 패키지만들고 강동성심 DB 접속해 R 실행

- Kaplan-meier 그림을 논문용으로 업그레이드

<center>
<img src="https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3775cdc7-958e-40ae-a38a-38e5de5b0945%2F%EA%B3%B5%ED%86%B5%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%AA%A8%EB%8D%B8(CDM)_%EC%9C%84%EC%82%B0%EC%96%B5%EC%A0%9C%EC%A0%9C_%EB%B9%84%EA%B5%90.png&blockId=8d76f7ae-5f6c-4940-a99b-207a117d3118" width=60%></a>
</center>

https://onlinelibrary.wiley.com/doi/abs/10.1111/jgh.14983


## [공단표본코호트 V1](https://gut.bmj.com/content/70/11/2066.full)

- CDM 변환된 공단표본코호트와, [원본 표본코호트 결과](http://147.47.68.165:1111/doctorssi/PPI_NHIS/) 비교

<center>
<img src="https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F07af45a4-8707-4805-8c1c-5002b877ecc4%2FPPI%EC%99%80_%EC%9C%84%EC%95%94_%EA%B3%B5%EB%8B%A8_CDM-1.png&blockId=71d45738-41f4-4999-8717-31bff8ead0a8" width=70%></a>
</center>

## [공단표본코호트 V1(2)](https://onlinelibrary.wiley.com/doi/full/10.1002/cam4.4514)

- CDM 변환된 공단표본코호트 이용

<center>
<img src="https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F83c09d06-567c-4cc8-8bcb-7e8cccf84f9f%2F%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2022-01-01_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.34.47.png&blockId=9dd69e78-a29e-42c2-8e63-b3d363213cee" width=70%></a>
</center>


## [공단표본코호트 V1(3)](https://www.mdpi.com/2075-4426/12/4/584?fbclid=IwAR2ULqlw5yYutcCJG2uU91Z7ivizTq4x1pXAlqqUklhHftD8zpcsE3HqwLg)

- CDM 변환된 공단표본코호트 이용

<center>
<img src="https://raw.githubusercontent.com/jinseob2kim/lecture-general/refs/heads/master/docs/cdm-intro/nhis3.png" width=70%></a>
</center>

<center>
<img src="https://www.mdpi.com/jpm/jpm-12-00584/article_deploy/html/images/jpm-12-00584-g002.png" width=70%></a>
</center>

## [Feedernet 다기관메타](https://www.nature.com/articles/s41598-021-97989-8)

- [ACEI vs ARB](http://147.47.68.165:1111/cdm/meta-drugcancer/)

<center>
<img src="https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F3e741bcb-1c49-43e6-bc08-7c66fa29fcb4%2F%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2021-11-03_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.03.00.png&blockId=a0bcd605-0480-4b6b-bf17-1ae6355e170c" width=70%></a>
</center>
<center>
<img src="https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe70abc3f-74a3-415a-a0ae-9c4a80dc1a5f%2F%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2021-11-03_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.03.37.png&blockId=b4d10ffb-23b8-430a-beaa-7d49fa888c99" width=70%></a>
</center>


## [Feedernet 다기관메타(2)](https://www.mdpi.com/2075-4418/12/2/263)

- [ACEI_ARB vs OtherHTNdrug](http://147.47.68.165:1111/cdm/meta-drugcancer/)

<center>
<img src="https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F62b86363-1b5f-4d08-8c4a-b7221f792380%2FUntitled.png&blockId=812aaf43-fb9e-46a1-926a-ad9591c21391" width=70%></a>
</center>


## [Feedernet 다기관메타(3)](https://onlinelibrary.wiley.com/doi/10.1111/jgh.15879?fbclid=IwAR2g6SzD4ejIZpg1Qfg8frpLbor-Zw29i-g5v73_HDS7eaeZ4r5CtD19HkQ)

- [ACEI vs ARB](http://147.47.68.165:1111/doctorssi/meta_osteoporosis/)

<center>
<img src="https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F171307aa-4ee8-4c3d-be20-822fdc707aeb%2FUntitled.png&blockId=5e3241a8-c2c5-48f1-82f3-45f2b53d8bec" width=70%></a>
</center>
<center>
<img src="https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F99a5b652-80d9-4d6d-99d3-ccc305b10f3b%2F1652236249609.jpg&blockId=64b1a2a8-00f1-4fcb-a146-e12c5e828cd2" width=70%></a>
</center>


## [Feedernet 다기관메타(4)](https://cardiab.biomedcentral.com/articles/10.1186/s12933-022-01524-6) 


- [pitavastatin vs other Statin](http://147.47.68.165:1111/meta-analysis/)

<center>
<img src="ssss.png" width=70%></a>
</center>
<center>
<img src="https://media.springernature.com/full/springer-static/image/art%3A10.1186%2Fs12933-022-01524-6/MediaObjects/12933_2022_1524_Fig3_HTML.png" width=70%></a>
</center>

## CDM summary

- 연구지원법인 차라투 운영하면서 CDM 공동연구 진행 

- CDM은 병원들의 데이터를 똑같은 형태로 만든다.

- 하나의 분석코드로 다기관메타분석 가능

- 분석 전과정에 R을 이용하나, [Feedernet](https://feedernet.com/) 에서 R없이 기본분석 가능. 


## Executive summary

-   의학연구용 R 패키지 개발, 중국/일본에서 인기

-   국가 R&D 선정

-   최신 오픈소스 관리기술

-   라이선스 검증

-   오픈소스 활성화: 커뮤니티, 인턴십, 교육

-   일본 R 커뮤니티 참여

# 감사합니다
